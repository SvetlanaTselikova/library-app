(this["webpackJsonplibrary-app"]=this["webpackJsonplibrary-app"]||[]).push([[0],{118:function(e,t,n){e.exports={header:"header_header__2a52w",logo:"header_logo__2_787",logoText:"header_logoText__3folY",teamName:"header_teamName__2y4Bj"}},163:function(e,t,n){e.exports={carousel:"books-carousel_carousel__2qZ50",arrow:"books-carousel_arrow__2Z38V"}},165:function(e,t,n){e.exports={collapse:"add-history_collapse__1ub3T",form:"add-history_form__2Hn9I",select:"add-history_select__2TwHy"}},166:function(e,t,n){e.exports={form:"user-select_form__PkcnS",input:"user-select_input__1XflJ",helpText:"user-select_helpText__wYKBL"}},173:function(e,t,n){e.exports={layout:"src_layout__73Zt4",contentWrapper:"src_contentWrapper__363N0"}},174:function(e,t,n){e.exports={content:"content-container_content__3fUXG",skeleton:"content-container_skeleton__24f93"}},176:function(e,t,n){e.exports={icon:"modified-history-info_icon__1XCN3",typography:"modified-history-info_typography__1PISm"}},177:function(e,t,n){e.exports={select:"target-select_select__2jREz"}},178:function(e,t,n){e.exports={helpIcon:"help-text_helpIcon__2IsqK",tooltip:"help-text_tooltip__3DN2U"}},198:function(e,t,n){e.exports={bookWrapper:"book-wrapper_bookWrapper__rCweB"}},200:function(e,t,n){e.exports={collapse:"target-container_collapse__3Dv3v",infoIcon:"target-container_infoIcon__3NrqM"}},221:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"loadRecommendations",(function(){return Jn})),n.d(a,"finishLoadRecommendations",(function(){return Un}));var c={};n.r(c),n.d(c,"initLoadPopular",(function(){return Vn})),n.d(c,"loadPopular",(function(){return Wn}));var o={};n.r(o),n.d(o,"init",(function(){return Xn})),n.d(o,"loadBooks",(function(){return Zn}));var r={};n.r(r),n.d(r,"loadTarget",(function(){return $n})),n.d(r,"clearTarget",(function(){return ea}));var i={};n.r(i),n.d(i,"init",(function(){return ta})),n.d(i,"loadGenres",(function(){return na}));var s={};n.r(s),n.d(s,"loadFilteredBooks",(function(){return aa}));var l={};n.r(l),n.d(l,"loadCreatedRecommendations",(function(){return ca})),n.d(l,"clearCreatedRecommendations",(function(){return oa}));var u,d,j,b=n(0),O=n.n(b),m=n(29),f=n.n(m),p=(n(221),n(330)),h=n(173),g=n.n(h),v=(n(222),n(46)),x=n(52),k=n(30),_=n(174),y=n.n(_),B=n(319),N=n(5),A=function(){return Object(N.jsx)(B.a.Title,{level:2,children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0434\u043b\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"})},C=n(33),T=n(24),S=n(25),R=function(e){return e.recommendations},F=Object(S.a)(R,(function(e){return e.recommendationsData})),D=Object(S.a)(R,(function(e){return e.historyData})),w=Object(S.a)(R,(function(e){return e.loading})),I=n(11),P=n(34),G=Object(P.b)({name:"recommendations",initialState:{recommendationsData:[],historyData:[],loading:!1},reducers:{fetchRecommendationsFailure:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{loading:!1})},fetchRecommendationsRequest:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{recommendationsData:[],historyData:[],loading:!0})},fetchRecommendationsSuccess:function(e,t){var n,a;return Object(I.a)(Object(I.a)({},e),{},{loading:!1,recommendationsData:(null===(n=t.payload)||void 0===n?void 0:n.recommendations)||[],historyData:(null===(a=t.payload)||void 0===a?void 0:a.history)||[]})}}}),M=G.actions,H=M.fetchRecommendationsFailure,E=M.fetchRecommendationsRequest,L=M.fetchRecommendationsSuccess,q=Object(P.b)({name:"popular",initialState:{monthData:[],englishData:[],botanicData:[],loading:!1},reducers:{fetchPopularFailure:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{loading:!1})},fetchPopularRequest:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{monthData:[],englishData:[],botanicData:[],loading:!0})},fetchPopularSuccess:function(e,t){var n,a,c;return Object(I.a)(Object(I.a)({},e),{},{loading:!1,monthData:(null===(n=t.payload)||void 0===n?void 0:n.month)||[],englishData:(null===(a=t.payload)||void 0===a?void 0:a.english)||[],botanicData:(null===(c=t.payload)||void 0===c?void 0:c.botanic)||[]})}}}),Q=q.actions,K=Q.fetchPopularFailure,Y=Q.fetchPopularRequest,J=Q.fetchPopularSuccess,U=Object(P.b)({name:"contentMode",initialState:{mode:null},reducers:{setContentMode:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{mode:t.payload})}}}),V=U.actions.setContentMode,W=Object(P.b)({name:"books",initialState:{ids:[],loading:!1},reducers:{fetchBooksFailure:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{loading:!1})},fetchBooksRequest:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{loading:!0})},fetchBooksSuccess:function(e,t){var n;return Object(I.a)(Object(I.a)({},e),{},{loading:!1,ids:(null===(n=t.payload)||void 0===n?void 0:n.ids)||[]})}}}),z=W.actions,X=z.fetchBooksFailure,Z=z.fetchBooksRequest,$=z.fetchBooksSuccess,ee=Object(P.b)({name:"target",initialState:{targetData:[],loading:!1},reducers:{fetchTargetFailure:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{loading:!1})},fetchTargetRequest:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{targetData:[],loading:!0})},fetchTargetSuccess:function(e,t){var n;return Object(I.a)(Object(I.a)({},e),{},{loading:!1,targetData:(null===(n=t.payload)||void 0===n?void 0:n.target)||[]})}}}),te=ee.actions,ne=te.fetchTargetFailure,ae=te.fetchTargetRequest,ce=te.fetchTargetSuccess,oe=Object(P.b)({name:"genres",initialState:{genresData:[],loading:!1},reducers:{fetchGenresFailure:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{loading:!1})},fetchGenresRequest:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{loading:!0})},fetchGenresSuccess:function(e,t){var n;return Object(I.a)(Object(I.a)({},e),{},{loading:!1,genresData:(null===(n=t.payload)||void 0===n?void 0:n.rubrics)||[]})}}}),re=oe.actions,ie=re.fetchGenresFailure,se=re.fetchGenresRequest,le=re.fetchGenresSuccess,ue=Object(P.b)({name:"createdRecommendations",initialState:{createdRecommendationsData:[],createdRecommendationsHistory:[],loading:!1},reducers:{fetchCreatedRecommendationsFailure:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{loading:!1})},fetchCreatedRecommendationsRequest:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{createdRecommendationsData:[],createdRecommendationsHistory:[],loading:!0})},fetchCreatedRecommendationsSuccess:function(e,t){var n,a;return Object(I.a)(Object(I.a)({},e),{},{loading:!1,createdRecommendationsData:(null===(n=t.payload)||void 0===n?void 0:n.recommendations)||[],createdRecommendationsHistory:(null===(a=t.payload)||void 0===a?void 0:a.history)||[]})}}}),de=ue.actions,je=de.fetchCreatedRecommendationsFailure,be=de.fetchCreatedRecommendationsRequest,Oe=de.fetchCreatedRecommendationsSuccess,me=Object(P.b)({name:"filteredBooks",initialState:{filteredBooksData:[],loading:!1},reducers:{fetchFilteredBooksFailure:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{loading:!1})},fetchFilteredBooksRequest:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{filteredBooksData:[],loading:!0})},fetchFilteredBooksSuccess:function(e,t){var n;return Object(I.a)(Object(I.a)({},e),{},{loading:!1,filteredBooksData:(null===(n=t.payload)||void 0===n?void 0:n.books)||[]})}}}),fe=me.actions,pe=fe.fetchFilteredBooksFailure,he=fe.fetchFilteredBooksRequest,ge=fe.fetchFilteredBooksSuccess;!function(e){e.recommendations="recommendations",e.populdar="popular"}(u||(u={})),function(e){e.classic="classic",e.modern="modern"}(d||(d={})),function(e){e.rnn="rnn",e.item_similarity="item_similarity",e.bert="bert",e.random="random"}(j||(j={}));var ve={currentModel:j.item_similarity},xe=Object(P.b)({name:"model",initialState:ve,reducers:{setModelType:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{currentModel:t.payload})}}}),ke=xe.actions.setModelType,_e=function(e){return e.books},ye=Object(S.a)(_e,(function(e){return e.ids})),Be=Object(S.a)(_e,(function(e){return e.loading})),Ne=function(e){return e.target},Ae=Object(S.a)(Ne,(function(e){return e.targetData})),Ce=Object(S.a)(Ne,(function(e){return e.loading})),Te=n(312),Se=n(323),Re=n(85),Fe=n(116),De=n(180),we=n(163),Ie=n.n(we),Pe=function(e){var t={dots:!0,infinite:!1,speed:500,nextArrow:Object(N.jsx)(Ge,{}),prevArrow:Object(N.jsx)(Me,{}),slidesToShow:e.slidesToShow||6,responsive:e.responsive||[{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]};return Object(N.jsx)(Se.a,Object(I.a)(Object(I.a)({arrows:!0},t),{},{className:Ie.a.carousel,dots:!0,children:e.children}))};function Ge(e){var t=e.className,n=e.style,a=e.onClick;return Object(N.jsx)("div",{className:"".concat(t," ").concat(Ie.a.arrow),style:n,children:Object(N.jsx)(Re.a,{shape:"circle",onClick:a,icon:Object(N.jsx)(Fe.a,{})})})}function Me(e){var t=e.className,n=e.style,a=e.onClick;return Object(N.jsx)("div",{className:"".concat(t," ").concat(Ie.a.arrow),style:n,children:Object(N.jsx)(Re.a,{shape:"circle",onClick:a,icon:Object(N.jsx)(De.a,{})})})}var He,Ee,Le,qe=n(335),Qe=n(331),Ke="NO_HISTORY";!function(e){e.red="red",e.green="green",e.orange="orange"}(Le||(Le={}));var Ye,Je=(He={},Object(x.a)(He,Le.red,"linear-gradient(90deg,#f5222d -.01%,#fff1f0 1.99%,#ffccc7 3%,#ff4d4f 5%,transparent 6%,#ffccc7 7%,#ffa39e 100.01%)"),Object(x.a)(He,Le.orange,"linear-gradient(90deg,#fa8c16 -.01%,#fff7e6 1.99%,#ffe7ba 3%,#ffa940 5%,transparent 6%,#ffe7ba 7%,#ffd591 100.01%)"),Object(x.a)(He,Le.green,"linear-gradient(90deg,#13c2c2 -.01%,#e6fffb 1.99%,#b5f5ec 3%,#36cfc9 5%,transparent 6%,#b5f5ec 7%,#87e8de 100.01%)"),He),Ue=(Ee={},Object(x.a)(Ee,Le.red,"#ff7875"),Object(x.a)(Ee,Le.orange,"#ff9c6e"),Object(x.a)(Ee,Le.green,"#36cfc9"),Ee),Ve="user",We="http://svetlanatselikova.pythonanywhere.com",ze=n(67),Xe=n.n(ze),Ze=function(e){var t=e.book,n=t.id,a=t.title,c=t.author,o=(t.year,t.age_resctriction),r=e.color,i=a||"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",s=c||"\u0410\u0432\u0442\u043e\u0440 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d",l=Object(N.jsxs)("span",{className:Xe.a.itemImage,style:{background:Je[r]},children:[Object(N.jsxs)("div",{className:Xe.a.imageID,children:["ID-",n]}),Object(N.jsx)("span",{className:Xe.a.imageTitle,children:i}),Object(N.jsxs)("span",{className:Xe.a.imageAuthor,children:[" ",s]})]});return Object(N.jsxs)("div",{className:"".concat(Xe.a.item," ").concat(Xe.a.itemText," ").concat(Xe.a.slickSlide),children:[o?Object(N.jsx)(Qe.a.Ribbon,{text:"".concat(o,"+"),color:Ue[r],children:l}):l,Object(N.jsx)("span",{className:Xe.a.itemTitle,children:i}),Object(N.jsx)("span",{className:Xe.a.itemAuthor,children:s})]},n)},$e=n(334),et=n(81),tt=n.n(et),nt=function(e){var t=e.book,n=e.color;return Object(N.jsxs)("div",{className:tt.a.wrapper,children:[Object(N.jsx)(Ze,{book:t,color:n}),Object(N.jsxs)("div",{className:tt.a.description,children:[Object(N.jsx)("div",{className:tt.a.annotation,children:t.annotation}),Object(N.jsx)("div",{className:tt.a.age,children:t.year}),t.volume?Object(N.jsxs)("div",{className:tt.a.volume,children:[t.volume," \u0441\u0442\u0440\u0430\u043d\u0438\u0446"]}):null,Object(N.jsx)("div",{className:tt.a.tags,children:t.rubrics?Object(N.jsx)($e.a,{className:tt.a.tag,color:"blue",children:t.rubrics}):null})]})]})},at=n(198),ct=n.n(at),ot=function(e){var t=e.book,n=e.popupPlacement,a=e.popupTrigger,c=Object(b.useState)(Le.orange),o=Object(k.a)(c,2),r=o[0],i=o[1];return Object(b.useEffect)((function(){var e=function(){var e=t.id%10,n=Le.orange;return[1,4,9].includes(e)&&(n=Le.red),[0,2,5].includes(e)&&(n=Le.green),n}();i(e)}),[]),Object(N.jsx)(qe.a,{content:Object(N.jsx)(nt,{book:t,color:r}),trigger:a||"click",title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",placement:n,children:Object(N.jsx)("div",{className:ct.a.bookWrapper,children:Object(N.jsx)(Ze,{book:t,color:r})})})},rt=function(e){var t=e.title,n=e.books,a=e.isTarget,c=e.popupPlacement;return Object(N.jsxs)("div",{style:{margin:a?"40px 0 0 0 ":"40px 0"},children:[a?null:Object(N.jsx)(Te.a,{}),"string"===typeof t?Object(N.jsx)(B.a.Title,{level:4,children:t}):t,Object(N.jsx)(Pe,{children:n.map((function(e,t){return Object(N.jsx)(O.a.Fragment,{children:Object(N.jsx)(ot,{book:e,popupPlacement:c})},t)}))})]})},it=n(318),st=n(327),lt=n(322),ut=n(165),dt=n.n(ut),jt="BOOK_ID",bt=function(e){var t=e.onAdd,n=e.booksIds,a=e.isLoadingBooks,c=it.a.useForm(),o=Object(k.a)(c,1)[0],r=Object(b.useState)([]),i=Object(k.a)(r,2),s=i[0],l=i[1],u=Object(b.useState)(!0),d=Object(k.a)(u,2),j=d[0],O=d[1];return Object(N.jsx)(st.a,{ghost:!0,className:dt.a.collapse,children:Object(N.jsx)(st.a.Panel,{header:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c, \u043a\u0430\u043a \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u0441\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 (\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u0438 \u043d\u0435 \u043f\u043e\u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443)",children:Object(N.jsxs)(it.a,{form:o,className:dt.a.form,layout:"inline",onFinish:function(e){return t(e.BOOK_ID)},children:[Object(N.jsx)(it.a.Item,{name:jt,label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u043a\u043d\u0438\u0433 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u044e (\u0434\u043e 3-x)",children:Object(N.jsx)(lt.a,{className:dt.a.select,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b...",loading:a,showSearch:!0,mode:"multiple",maxTagCount:3,onChange:function(e){l(e),Array.isArray(e)&&e.length?O(!1):O(!0)},allowClear:!0,children:n.map((function(e){return Object(N.jsx)(lt.a.Option,{value:e,disabled:s.length>2&&!s.includes(e),children:e},e)}))})}),Object(N.jsx)(it.a.Item,{children:Object(N.jsx)(Re.a,{type:"primary",htmlType:"submit",disabled:j,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438"})})]})},1)})},Ot=function(e){var t=e.setIsHistoryModified,n=Object(T.c)(F),a=Object(T.c)(ye),c=Object(T.c)(Be),o=Object(T.c)(D),r=Object(T.b)(),i=Object(N.jsxs)(O.a.Fragment,{children:[Object(N.jsx)(B.a.Title,{level:4,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(N.jsx)(bt,{isLoadingBooks:c,booksIds:a,onAdd:function(e){var n=[].concat(Object(v.a)(e),Object(v.a)(o.map((function(e){return e.id}))));t(!0),r(E(n))}})]});return Object(N.jsxs)(O.a.Fragment,{children:[Object(N.jsx)(rt,{title:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438",books:n}),Object(N.jsx)(rt,{title:i,books:o})]})},mt=n(160),ft=n(176),pt=n.n(ft),ht=function(){return Object(N.jsxs)(B.a.Title,{level:4,className:pt.a.typography,children:[Object(N.jsx)(mt.a,{className:pt.a.icon}),"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0431\u044b\u043b\u0430 \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430"]})},gt=function(e){return e.popular},vt=Object(S.a)(gt,(function(e){return e.monthData})),xt=Object(S.a)(gt,(function(e){return e.englishData})),kt=Object(S.a)(gt,(function(e){return e.botanicData})),_t=Object(S.a)(gt,(function(e){return e.loading})),yt=Object(S.a)((function(e){return e.contentMode}),(function(e){return e.mode})),Bt=Object(S.a)(w,_t,(function(e,t){return e||t})),Nt=Object(S.a)((function(e){return e.model}),(function(e){return e.currentModel})),At=function(){var e=Object(T.c)(vt),t=Object(T.c)(xt),n=Object(T.c)(kt);return Object(N.jsxs)(O.a.Fragment,{children:[Object(N.jsx)(rt,{title:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435 \u0437\u0430 \u043c\u0435\u0441\u044f\u0446",books:e}),Object(N.jsx)(rt,{title:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043a\u043d\u0438\u0433\u0438 \u043f\u043e \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c\u0443 \u044f\u0437\u044b\u043a\u0443",books:t}),Object(N.jsx)(rt,{title:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043a\u043d\u0438\u0433\u0438 \u043f\u043e \u0431\u043e\u0442\u0430\u043d\u0438\u043a\u0435",books:n})]})},Ct=n(324),Tt=n(200),St=n.n(Tt),Rt=n(177),Ft=n.n(Rt),Dt="TARGET_SELECT",wt=function(e){var t=e.targetIds,n=e.isLoadingTargets,a=e.onSearch,c=it.a.useForm(),o=Object(k.a)(c,1)[0],r=Object(b.useState)(!0),i=Object(k.a)(r,2),s=i[0],l=i[1];return Object(N.jsxs)(it.a,{form:o,layout:"inline",className:Ft.a.form,onFinish:function(e){return a(e.TARGET_SELECT)},children:[Object(N.jsx)(it.a.Item,{name:Dt,label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u043a\u043d\u0438\u0433",children:Object(N.jsx)(lt.a,{className:Ft.a.select,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b...",loading:n,showSearch:!0,mode:"multiple",maxTagCount:5,allowClear:!0,onChange:function(e){Array.isArray(e)&&e.length?l(!1):l(!0)},children:t.map((function(e){return Object(N.jsx)(lt.a.Option,{value:e,children:e},e)}))})}),Object(N.jsx)(it.a.Item,{children:Object(N.jsx)(Re.a,{type:"primary",htmlType:"submit",disabled:s,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0438"})})]})},It=n(79),Pt=n(215),Gt=n(178),Mt=n.n(Gt),Ht=function(){return Object(N.jsxs)("span",{children:["\u041c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u043c\u043e\u0447\u044c \u0432\u0430\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0434\u043b\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",Object(N.jsx)(It.a,{title:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u043a\u043d\u0438\u0433\u0438 \u0438 \u043d\u0430\u0433\u043b\u044f\u0434\u043d\u043e \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",overlayClassName:Mt.a.tooltip,children:Object(N.jsx)(Pt.a,{className:Mt.a.helpIcon})})]})},Et=function(){var e=Object(T.c)(Ce),t=Object(T.c)(ye),n=Object(T.c)(Be),a=Object(T.c)(Ae),c=Object(T.b)(),o=e?Object(N.jsx)(Ct.a,{active:!0}):Object.values(a).length?Object(N.jsx)(rt,{books:a,title:"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u044b\u0431\u043e\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",isTarget:!0}):null;return Object(N.jsx)(st.a,{ghost:!0,className:St.a.collapse,children:Object(N.jsx)(st.a.Panel,{header:Object(N.jsx)(Ht,{}),children:Object(N.jsxs)(O.a.Fragment,{children:[Object(N.jsx)(wt,{targetIds:t,isLoadingTargets:n,onSearch:function(e){return c(ae(e))}}),o]})},1)})},Lt=n(326),qt=n(166),Qt=n.n(qt),Kt="USER_INPUT",Yt=function(e){var t=e.onPredict,n=e.value,a=it.a.useForm(),c=Object(k.a)(a,1)[0];return Object(b.useEffect)((function(){c.setFieldsValue(Object(x.a)({},Kt,n))}),[n]),Object(N.jsxs)(it.a,{form:c,layout:"inline",className:Qt.a.form,onFinish:function(e){return t(e.USER_INPUT)},children:[Object(N.jsx)("div",{className:Qt.a.helpText,children:"*\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435 \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435\u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d"}),Object(N.jsx)(it.a.Item,{name:Kt,label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",rules:[{pattern:/^(?:\d*)$/,message:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c"}],children:Object(N.jsx)(Lt.a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0439\u0434\u0438 \u0438\u043b\u0438 \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c...",className:Qt.a.input,allowClear:!0,autoComplete:"off"})}),Object(N.jsx)(it.a.Item,{children:Object(N.jsx)(Re.a,{type:"primary",htmlType:"submit",children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438"})})]})},Jt=n(39),Ut=n.n(Jt),Vt=n(325),Wt=n(329),zt=n(336),Xt=n.p+"static/media/reading.aad66751.png",Zt=function(e){var t=e.onCancel,n=e.onNext;return Object(N.jsx)(Wt.a,{subTitle:"\u041f\u043e\u0445\u043e\u0436\u0435, \u0443 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043e \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u043a\u043d\u0438\u0433\u0430\u0445. \u041e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432, \u0438 \u043c\u044b \u043f\u043e\u0434\u0431\u0435\u0440\u0435\u043c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0432\u0430\u0441.",extra:Object(N.jsxs)(zt.b,{children:[Object(N.jsx)(Re.a,{onClick:t,children:"\u041d\u0435\u0442, \u0441\u043f\u0430\u0441\u0438\u0431\u043e"}),Object(N.jsxs)(Re.a,{type:"primary",onClick:n,children:[" ","\u041f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438"]})]}),icon:Object(N.jsx)("img",{src:Xt,alt:"",className:Ut.a.askImg})})},$t=n(320),en=function(e){var t=e.isLoadingGenres,n=e.genresData,a=e.selectedGenres,c=e.onChange,o=Object(b.useState)([]),r=Object(k.a)(o,2),i=r[0],s=r[1];return t?Object(N.jsx)(Ct.a,{active:!0}):Object(N.jsxs)("div",{className:Ut.a.genresContent,children:[Object(N.jsx)("div",{className:Ut.a.helpText,children:"*\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043e 7-\u043c\u0438 \u0436\u0430\u043d\u0440\u043e\u0432"}),Object(N.jsx)(lt.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440\u044b...",onChange:function(e){s(e),c(e)},mode:"multiple",className:Ut.a.genresSelect,loading:t,value:a,children:(null===n||void 0===n?void 0:n.length)?n.slice().sort((function(e,t){return e.localeCompare(t)})).map((function(e,t){return Object(N.jsx)(lt.a.Option,{value:e,disabled:i.length>6&&!i.includes(e),children:e},t)})):null})]})},tn=[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}],nn=function(e){var t=e.isLoadingBooks,n=e.booksData,a=e.selectedBooks,c=e.onPick;return t?Object(N.jsx)(Ct.a,{active:!0}):Object(N.jsx)(Pe,{responsive:tn,slidesToShow:5,children:n.map((function(e,t){return Object(N.jsx)("div",{className:"".concat(Ut.a.bookBlock," ").concat(a.includes(e.id)?Ut.a.selectedBook:void 0),onClick:function(){return c(e.id)},children:Object(N.jsx)(ot,{book:e,popupPlacement:"right",popupTrigger:"hover"})},t)}))})},an=$t.a.Step,cn=function(e){var t=e.isLoadingGenres,n=e.genresData,a=e.isLoadingFilteredBooks,c=e.filteredBooksData,o=e.fetchFilteredBooks,r=e.isCreatingRecommendations,i=e.fetchCreatedRecommendations,s=Object(b.useState)(0),l=Object(k.a)(s,2),u=l[0],d=l[1],j=Object(b.useState)([]),m=Object(k.a)(j,2),f=m[0],p=m[1],h=Object(b.useState)([]),g=Object(k.a)(h,2),x=g[0],_=g[1],y=[{title:"\u0416\u0430\u043d\u0440\u044b",content:Object(N.jsx)(en,{isLoadingGenres:t,genresData:n,selectedGenres:f,onChange:function(e){p(e)}}),header:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435 \u0436\u0430\u043d\u0440\u044b"},{title:"\u041a\u043d\u0438\u0433\u0438",content:Object(N.jsx)(nn,{isLoadingBooks:a,booksData:c,onPick:function(e){var t;t=x.includes(e)?x.filter((function(t){return t!==e})):[].concat(Object(v.a)(x),[e]),_(t)},selectedBooks:x}),header:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043d\u0438\u0433\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0430\u043c \u043d\u0440\u0430\u0432\u044f\u0442\u0441\u044f"}];return Object(N.jsxs)(O.a.Fragment,{children:[Object(N.jsx)($t.a,{current:u,progressDot:!0,children:y.map((function(e){return Object(N.jsx)(an,{title:e.title},e.title)}))}),Object(N.jsxs)("div",{className:Ut.a.stepsContent,children:[Object(N.jsx)(B.a.Title,{level:4,className:Ut.a.stepHeader,children:y[u].header}),y[u].content]}),Object(N.jsxs)("div",{className:Ut.a.stepBtns,children:[u>0&&Object(N.jsx)(Re.a,{onClick:function(){d(u-1)},children:"\u041d\u0430\u0437\u0430\u0434"}),Object(N.jsx)(Re.a,{type:"primary",onClick:function(){0===u&&(_([]),o(f)),1===u?i(x):d(u+1)},className:Ut.a.stepBtnNext,disabled:0===u&&!f.length||1===u&&!x.length,loading:1===u&&r,children:u===y.length-1?"\u041f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438":"\u0414\u0430\u043b\u0435\u0435"})]})]})};!function(e){e.steps="steps",e.ask="ask"}(Ye||(Ye={}));var on=function(e){var t=e.isOpen,n=e.onClose,a=e.isLoadingGenres,c=e.genresData,o=e.isLoadingFilteredBooks,r=e.filteredBooksData,i=e.fetchFilteredBooks,s=e.isCreatingRecommendations,l=e.fetchCreatedRecommendations,u=Object(b.useState)(Ye.ask),d=Object(k.a)(u,2),j=d[0],O=d[1];return Object(N.jsx)(Vt.a,{visible:t,footer:null,onCancel:n,closable:!s,width:j===Ye.steps?"80%":void 0,children:j===Ye.ask?Object(N.jsx)(Zt,{onCancel:function(){return n()},onNext:function(){return O(Ye.steps)}}):Object(N.jsx)(cn,{genresData:c,isLoadingGenres:a,isLoadingFilteredBooks:o,filteredBooksData:r,fetchFilteredBooks:i,isCreatingRecommendations:s,fetchCreatedRecommendations:l})})},rn=function(e){var t=e.isLoadingGenres,n=e.genresData,a=e.isLoadingFilteredBooks,c=e.filteredBooksData,o=e.fetchFilteredBooks,r=e.isCreatingRecommendations,i=e.fetchCreatedRecommendations,s=Object(b.useState)(!0),l=Object(k.a)(s,2),u=l[0],d=l[1];var j=function(e){var t=Object(b.useRef)();return Object(b.useEffect)((function(){t.current=e})),t.current}(r);return Object(b.useEffect)((function(){j&&!r&&d(!1)}),[r]),Object(N.jsxs)(O.a.Fragment,{children:[Object(N.jsxs)(Re.a,{onClick:function(){return d(!0)},className:Ut.a.creatorBtn,type:"link",children:["\u041f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438",Object(N.jsx)("img",{src:"data:image/png;base64,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",className:Ut.a.magicImg,alt:""})]}),u?Object(N.jsx)(on,{isOpen:u,onClose:function(){return d(!1)},genresData:n,isLoadingGenres:t,isLoadingFilteredBooks:a,filteredBooksData:c,fetchFilteredBooks:o,isCreatingRecommendations:r,fetchCreatedRecommendations:i}):null]})},sn=function(e){return e.genres},ln=Object(S.a)(sn,(function(e){return e.genresData})),un=Object(S.a)(sn,(function(e){return e.loading})),dn=function(e){return e.filteredBooks},jn=Object(S.a)(dn,(function(e){return e.filteredBooksData})),bn=Object(S.a)(dn,(function(e){return e.loading})),On=function(e){return e.createdRecommendations},mn=Object(S.a)(On,(function(e){return e.loading})),fn=Object(S.a)(On,(function(e){return e.createdRecommendationsData})),pn=Object(S.a)(On,(function(e){return e.createdRecommendationsHistory})),hn=function(){var e=Object(T.c)(ln),t=Object(T.c)(un),n=Object(T.c)(bn),a=Object(T.c)(jn),c=Object(T.c)(mn),o=Object(T.c)(fn),r=Object(T.c)(pn),i=Object(T.b)();return o.length?Object(N.jsxs)(O.a.Fragment,{children:[Object(N.jsx)(rt,{books:o,title:"\u0412\u0430\u0448\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438",popupPlacement:"right"}),Object(N.jsx)(rt,{books:r,title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u043a\u043d\u0438\u0433"})]}):Object(N.jsx)(rn,{genresData:e,isLoadingGenres:t,isLoadingFilteredBooks:n,filteredBooksData:a,fetchFilteredBooks:function(e){return i(he({genres:e}))},isCreatingRecommendations:c,fetchCreatedRecommendations:function(e){return i(be(e))}})},gn=n(328),vn=function(e){var t=e.currentValue,n=e.handleChange;return Object(N.jsx)(it.a.Item,{label:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c",children:Object(N.jsxs)(gn.a.Group,{onChange:function(e){n(e.target.value)},value:t,children:[Object(N.jsx)(gn.a,{value:j.item_similarity,children:"Item Similarity based on user interactions"}),Object(N.jsx)(gn.a,{value:j.rnn,children:"Recurrent Neural Network"}),Object(N.jsx)(gn.a,{value:j.bert,children:"BERT Neural Network (long prediction)"}),Object(N.jsx)(gn.a,{value:j.random,children:"Random"})]})})},xn=function(){var e=Object(T.c)(yt),t=Object(T.c)(Bt),n=Object(T.b)(),a=Object(C.f)(),c=Object(b.useState)(void 0),o=Object(k.a)(c,2),r=o[0],i=o[1],s=Object(b.useState)(!1),l=Object(k.a)(s,2),d=l[0],j=l[1],m=Object(T.c)(Nt),f=Object(C.e)();Object(b.useEffect)((function(){var e=new URLSearchParams(a.search).get(Ve)||void 0;i(e?Number(e):e),j(!1),n(E(e||Ke))}),[a]);return Object(N.jsxs)("div",{className:y.a.content,children:[Object(N.jsx)(A,{}),Object(N.jsx)(Yt,{onPredict:function(e){if(e){var t=new URLSearchParams(Object(x.a)({},Ve,e.toString())).toString();f.push({search:t})}else{var n=new URLSearchParams(a.search);n.delete(Ve),f.push({search:n.toString()})}},value:r}),Object(N.jsx)(vn,{currentValue:m,handleChange:function(e){j(!1),n(ke(e)),r&&n(E(r))}}),t?Object(N.jsx)(O.a.Fragment,{children:Object(v.a)(Array(3).keys()).map((function(e,t){return Object(N.jsx)(Ct.a,{active:!0,className:y.a.skeleton},t)}))}):e===u.populdar?Object(N.jsxs)(O.a.Fragment,{children:[Object(N.jsx)(hn,{}),Object(N.jsx)(At,{})]}):e===u.recommendations?Object(N.jsxs)(O.a.Fragment,{children:[d?Object(N.jsx)(ht,{}):Object(N.jsx)(Et,{}),Object(N.jsx)(Ot,{setIsHistoryModified:j})]}):null]})},kn=n(108),_n=n(118),yn=n.n(_n),Bn=n.p+"static/media/books.da7c06a2.png",Nn=function(){return Object(N.jsxs)(p.a.Header,{className:yn.a.header,children:[Object(N.jsxs)(kn.b,{to:"/",children:[" ",Object(N.jsx)("img",{src:Bn,className:yn.a.logo,alt:"logo"})]})," ",Object(N.jsx)(B.a.Title,{level:3,className:yn.a.logoText,children:"Library app"}),Object(N.jsxs)("div",{className:yn.a.teamName,children:[" ","Made by laugh-most-late-coat-not-deterministic"]})]})},An=n(202),Cn=n(203),Tn=n(213),Sn=n(207),Rn=n(209);function Fn(){Rn.b.error("\u041e\u0439, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443.")}var Dn=function(e){Object(Tn.a)(n,e);var t=Object(Sn.a)(n);function n(e){var a;return Object(An.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(Cn.a)(n,[{key:"componentDidCatch",value:function(e,t){Fn()}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(O.a.Component);var wn=function(){return Object(N.jsx)(Dn,{children:Object(N.jsxs)(p.a,{className:g.a.layout,children:[Object(N.jsx)(Nn,{}),Object(N.jsx)(p.a.Content,{className:g.a.contentWrapper,children:Object(N.jsx)(xn,{})})]})})},In=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,337)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))},Pn=n(66),Gn=Object(Pn.b)({recommendations:G.reducer,popular:q.reducer,contentMode:U.reducer,books:W.reducer,target:ee.reducer,genres:oe.reducer,filteredBooks:me.reducer,createdRecommendations:ue.reducer,model:xe.reducer}),Mn=n(321),Hn=n(333),En=n(313),Ln=n(314),qn=n(316),Qn=n(154),Kn=n(315),Yn=n(332),Jn=function(e,t){return e.pipe(Object(En.a)(E.match),Object(Ln.a)((function(e){if(e.payload===Ke)return Object(Kn.a)(V(u.populdar));var n=t.value.model.currentModel,a="".concat(We,"/recommendations?model_name=").concat(n);return Array.isArray(e.payload)?a+="&book_ids=".concat(e.payload.join(",")):a+="&user_id=".concat(e.payload),Object(Yn.a)({url:a,method:"GET",responseType:"text"}).pipe(Object(Ln.a)((function(e){var t,n=JSON.parse(null===e||void 0===e?void 0:e.response.replace(/\bNaN\b/g,"null"));return(null===n||void 0===n||null===(t=n.history)||void 0===t?void 0:t.length)?Object(Kn.a)(V(u.recommendations),L(n)):Object(Kn.a)(V(u.populdar))})),Object(qn.a)((function(){return Fn(),Object(Kn.a)(H())})))})))},Un=function(e,t){return e.pipe(Object(En.a)(Y.match),Object(Qn.a)((function(){return L({history:[],recommendations:[]})})))},Vn=function(e,t){return e.pipe(Object(En.a)(V.match),Object(En.a)((function(e){return e.payload===u.populdar})),Object(Qn.a)((function(){return Y()})))},Wn=function(e,t){return e.pipe(Object(En.a)(Y.match),Object(Ln.a)((function(e){return Object(Yn.a)({url:"".concat(We,"/popular"),method:"GET",responseType:"text"}).pipe(Object(Qn.a)((function(e){return J(JSON.parse(null===e||void 0===e?void 0:e.response.replace(/\bNaN\b/g,"null")))})),Object(qn.a)((function(){return Fn(),Object(Kn.a)(K())})))})))},zn=n(317),Xn=function(e,t){return t.pipe(Object(zn.a)(1),Object(Qn.a)((function(){return Z()})))},Zn=function(e,t){return e.pipe(Object(En.a)(Z.match),Object(Ln.a)((function(){return Yn.a.get("".concat(We,"/books")).pipe(Object(Qn.a)((function(e){return $(null===e||void 0===e?void 0:e.response)})),Object(qn.a)((function(){return Fn(),Object(Kn.a)(X())})))})))},$n=function(e,t){return e.pipe(Object(En.a)(ae.match),Object(Ln.a)((function(e){return Object(Yn.a)({url:"".concat(We,"/targets?target_ids=").concat(e.payload.join(",")),method:"GET",responseType:"text"}).pipe(Object(Qn.a)((function(e){return ce(JSON.parse(null===e||void 0===e?void 0:e.response.replace(/\bNaN\b/g,"null")))})),Object(qn.a)((function(){return Fn(),Object(Kn.a)(ne())})))})))},ea=function(e,t){return e.pipe(Object(En.a)(E.match),Object(Qn.a)((function(){return ce({target:[]})})))},ta=function(e,t){return t.pipe(Object(zn.a)(1),Object(Qn.a)((function(){return se()})))},na=function(e,t){return e.pipe(Object(En.a)(se.match),Object(Ln.a)((function(e){return Yn.a.get("".concat(We,"/rubrics")).pipe(Object(Qn.a)((function(e){return le(null===e||void 0===e?void 0:e.response)})),Object(qn.a)((function(){return Fn(),Object(Kn.a)(ie())})))})))},aa=function(e,t){return e.pipe(Object(En.a)(he.match),Object(Ln.a)((function(e){var t=e.payload.genres;return Object(Yn.a)({url:"".concat(We,"/books_filter?rubrics=").concat(t.join(",")),method:"GET",responseType:"text"}).pipe(Object(Qn.a)((function(e){return ge(JSON.parse(null===e||void 0===e?void 0:e.response.replace(/\bNaN\b/g,"null")))})),Object(qn.a)((function(){return Fn(),Object(Kn.a)(pe())})))})))},ca=function(e,t){return e.pipe(Object(En.a)(be.match),Object(Ln.a)((function(e){var n=t.value.model.currentModel;return Object(Yn.a)({url:"".concat(We,"/recommendations?book_ids=").concat(e.payload.join(","),"&model_name=").concat(n),method:"GET",responseType:"text"}).pipe(Object(Qn.a)((function(e){return Oe(JSON.parse(null===e||void 0===e?void 0:e.response.replace(/\bNaN\b/g,"null")))})),Object(qn.a)((function(){return Fn(),Object(Kn.a)(je())})))})))},oa=function(e,t){return e.pipe(Object(En.a)(E.match),Object(Qn.a)((function(){return Oe({recommendations:[],history:[]})})))},ra=Hn.a.apply(void 0,Object(v.a)(Object.values(a)).concat(Object(v.a)(Object.values(c)),Object(v.a)(Object.values(o)),Object(v.a)(Object.values(r)),Object(v.a)(Object.values(i)),Object(v.a)(Object.values(s)),Object(v.a)(Object.values(l)))),ia=Object(Mn.a)(),sa=Object(P.a)({reducer:Gn,middleware:[ia]});ia.run(ra),f.a.render(Object(N.jsx)(O.a.StrictMode,{children:Object(N.jsx)(T.a,{store:sa,children:Object(N.jsx)(kn.a,{children:Object(N.jsx)(C.a,{component:wn})})})}),document.getElementById("root")),In()},39:function(e,t,n){e.exports={creatorBtn:"recommendations-creator_creatorBtn__3Uprf",magicImg:"recommendations-creator_magicImg__6kHvx",stepBtns:"recommendations-creator_stepBtns__1ne8O",stepBtnNext:"recommendations-creator_stepBtnNext__1TFNf",stepsContent:"recommendations-creator_stepsContent__2c12r",stepHeader:"recommendations-creator_stepHeader__3PMl8",genresContent:"recommendations-creator_genresContent__1uIzh",askImg:"recommendations-creator_askImg__OENr5",wideModal:"recommendations-creator_wideModal__3j0ra",bookBlock:"recommendations-creator_bookBlock__pq3gz",selectedBook:"recommendations-creator_selectedBook__3il4c",genresSelect:"recommendations-creator_genresSelect__1v_-3",helpText:"recommendations-creator_helpText__30wiP"}},67:function(e,t,n){e.exports={item:"book_item__RiWFx",itemText:"book_itemText__3cOaP",slickSlide:"book_slickSlide__1Lfgo",itemTitle:"book_itemTitle__klfLR",itemAuthor:"book_itemAuthor__3p4s2",itemImage:"book_itemImage__2-ItX",imageID:"book_imageID__314wO",imageTitle:"book_imageTitle__S5TcD",imageAuthor:"book_imageAuthor__2O5vg",imageYear:"book_imageYear__3Lwfm"}},81:function(e,t,n){e.exports={wrapper:"book-popover_wrapper__11qdo",age:"book-popover_age__1Hklc",annotation:"book-popover_annotation__3MbkA",tags:"book-popover_tags__IeQ8i",tag:"book-popover_tag__3e0xg",description:"book-popover_description__2Igw6"}}},[[309,1,2]]]);
//# sourceMappingURL=main.d603ca43.chunk.js.map